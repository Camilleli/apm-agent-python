apiVersion: skaffold/v2beta29
kind: Config
metadata:
  name: {{ git_user }}-apm-agent-python
#Â The list of docker images to be built and in sync with the workspace by default
build:
  local:
    tryImportMissing: false
    concurrency: 0
  artifacts:
  # Skaffold requires a default artifacts so we can use profiles with a patch command
  # using the latest python version supported.
  - image: apm-agent-python-{{ version }}
    context: .
    docker:
      dockerfile: ".k8s/Dockerfile"
      buildArgs:
        PYTHON_VERSION: "{{ version }}"
deploy:
  kubectl:
    manifests:
    # Skaffold requires a default deploy so we can use profiles with a patch command.
    - ".k8s/generated/default.yaml"

profiles:
# Generated

